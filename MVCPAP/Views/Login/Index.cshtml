@model MVCPAP.Models.User
@{
    Layout = "~/Views/Shared/NavBar.cshtml";
}
<script src="~/Scripts/jquery-3.3.1.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<link href="~/Content/Formats.css" rel="stylesheet" />
<style>
    #divLogin {
        padding: 10px;
        width: fit-content;
        margin: auto;
        top: 40%;
    }

        #divLogin > div {
            margin: auto;
        }

            #divLogin > div > input, label {
                margin: 10px;
            }

            #divLogin > div > input {
                float: right;
                margin-right: 10px;
            }

            #divLogin > div > label {
                float: left;
                margin-left: 10px;
            }

    .toggle {
        cursor: pointer;
    }

        .toggle:hover {
            color: gray;
        }
</style>


<script>
    $(function () {

        $("#myForm").ready(function () {
            var urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('mode') && urlParams.get('mode').toLocaleLowerCase() == 'signin') {
                $("#divLogin").hide();
                $("#toggleSignin").hide();
            }
            else {
                $("#toggleLogin").hide();
                $("#divSignin").hide();
            }


        });

        $("#toggleLogin").click(function () {
            $("#toggleLogin").hide();
            $("#toggleSignin").show();
            $("#divLogin").show();
            $("#divSignin").hide();
        });

        $("#toggleSignin").click(function () {
            $("#toggleLogin").show();
            $("#toggleSignin").hide();
            $("#divLogin").hide();
            $("#divSignin").show();
        });



    });
</script>

<span id="toggleLogin" class="toggle">Log in</span>
<span id="toggleSignin" class="toggle">Sign in</span>

<div id="divLogin" class="jumbotron">
    @using (Html.BeginForm("Autherize", "Login", FormMethod.Post))
    {

        <div class="row">
            @Html.LabelFor(model => model.email)
            @Html.EditorFor(model => model.email)
            @Html.ValidationMessageFor(model => model.email)
        </div>

        <div class="row">
            @Html.LabelFor(model => model.password)
            @Html.EditorFor(model => model.password)
            @Html.ValidationMessageFor(model => model.password)
        </div>
        <div class="row">
            <input type="submit" name="name" class="btn btn-light" value="Log in" />
            @Html.DisplayFor(model => model.LoginErrorMessage)
        </div>

    }
</div>

<div id="divSignin" class="jumbotron">
    @using (Html.BeginForm("Signin", "Login", FormMethod.Post))
    {

        <div class="row">
            @Html.LabelFor(model => model.email)
            @Html.EditorFor(model => model.email)
            @Html.ValidationMessageFor(model => model.email)
        </div>

        <div class="row">
            @Html.LabelFor(model => model.username)
            @Html.EditorFor(model => model.username)
            @Html.ValidationMessageFor(model => model.username)
        </div>

        <div class="row">
            @Html.LabelFor(model => model.password)
            @Html.EditorFor(model => model.password)
            @Html.ValidationMessageFor(model => model.password)
        </div>
        <div class="row">
            <input type="submit" name="name" class="btn btn-light" value="Sign in" />
            @Html.DisplayFor(model => model.LoginErrorMessage)
        </div>

    }
</div>


